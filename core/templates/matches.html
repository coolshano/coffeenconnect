<!DOCTYPE html>
<html>
<head>
<title>Your Matches</title>

<style>
body {
    font-family: "Segoe UI", system-ui;
    background: #f4f6f9;
    margin: 0;
}

.container {
    max-width: 1100px;
    margin: auto;
    padding: 40px 20px;
}

.card {
    background: white;
    border-radius: 14px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.08);
    padding: 20px;
    margin-bottom: 20px;
    display: flex;
    gap: 20px;
    align-items: center;
}

.avatar {
    width: 70px;
    height: 70px;
    border-radius: 50%;
    object-fit: cover;
}

.info {
    flex: 1;
}

.info h3 {
    margin: 0;
}

.score {
    font-size: 22px;
    font-weight: bold;
    color: #28a745;
}

.request-btn {
    background: #0d6efd;
    color: white;
    border: none;
    padding: 10px 16px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
}
</style>
</head>
<body>

<div class="container">
<h2>Your Best Mentor Matches</h2>

{% for m in matches %}
<div class="card">

    {% if m.mentor.profile_image %}
        <img src="{{ m.mentor.profile_image.url }}" class="avatar">
    {% else %}
        <img src="/static/core/images/default-avatar.png" class="avatar">
    {% endif %}

    <div class="info">
        <h3>{{ m.mentor.name }}</h3>
        <p>{{ m.mentor.profile_text|truncatewords:20 }}</p>
    </div>

    <div class="score">{{ m.score }}%</div>

    {% if m.status == "pending" %}
        <span style="color:#f0ad4e;font-weight:600;">Request Sent</span>
    {% elif m.status == "accepted" %}
        <span style="color:#28a745;font-weight:600;">Accepted</span>
    {% elif m.status == "rejected" %}
        <span style="color:#dc3545;font-weight:600;">Rejected</span>
    {% else %}
        <form method="post" action="/request-mentor/{{ m.mentor.id }}/">
            {% csrf_token %}
            <button class="request-btn">Request Mentor</button>
        </form>
    {% endif %}

</div>
{% empty %}
<p>No mentors found.</p>
{% endfor %}

</div>
</body>
</html>
